<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Ay≈üe'ye √ñzel ‚ù§Ô∏è</title>
    <link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Quicksand:wght@300;500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #ff8fa3;
            --secondary-color: #ffccd5;
            --text-color: #590d22;
            --white: #fff0f3;
            --game-bg: #4ec0ca;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: 'Quicksand', sans-serif;
            background-color: var(--white);
            color: var(--text-color);
            overflow-x: hidden;
            /* Mobilde kaydƒ±rmayƒ± engellemek i√ßin */
        }

        /* Arkaplan Efekti */
        .heart-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
            overflow: hidden;
        }

        .heart {
            position: absolute;
            bottom: -100px;
            font-size: 2rem;
            color: rgba(255, 143, 163, 0.4);
            animation: fly 10s linear infinite;
        }

        @keyframes fly {
            0% { transform: translateY(0) rotate(0deg); opacity: 1; }
            100% { transform: translateY(-100vh) rotate(360deg); opacity: 0; }
        }

        /* Navigasyon */
        nav {
            display: flex;
            justify-content: center;
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            padding: 15px;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 4px 15px rgba(255, 143, 163, 0.2);
            flex-wrap: wrap;
        }

        nav button {
            background: none;
            border: none;
            font-family: 'Pacifico', cursive;
            font-size: 1.1rem;
            color: var(--text-color);
            margin: 5px 10px;
            cursor: pointer;
            padding: 8px 20px;
            border-radius: 20px;
            transition: all 0.3s ease;
        }

        nav button:hover, nav button.active {
            background-color: var(--primary-color);
            color: white;
            transform: scale(1.05);
            box-shadow: 0 4px 10px rgba(255, 143, 163, 0.4);
        }

        /* B√∂l√ºmler */
        .section {
            display: none;
            min-height: 90vh;
            padding: 20px 10px;
            animation: fadeIn 0.6s ease;
            text-align: center;
        }

        .section.active {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Anasayfa */
        h1 {
            font-family: 'Pacifico', cursive;
            font-size: 3rem;
            margin: 30px 0 20px 0;
            color: #d00000;
            text-shadow: 2px 2px 0px rgba(255, 200, 200, 0.5);
        }

        .hero-text {
            font-size: 1.3rem;
            max-width: 600px;
            line-height: 1.8;
            background: rgba(255,255,255,0.7);
            padding: 20px;
            border-radius: 20px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
        }

        /* Galeri */
        .gallery-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
            width: 100%;
            max-width: 1200px;
            padding: 10px;
        }

        .photo-card {
            background: white;
            padding: 15px;
            border-radius: 20px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
        }

        .photo-card:hover {
            transform: translateY(-10px);
        }

        .photo-card img {
            width: 100%;
            height: 350px;
            object-fit: cover;
            border-radius: 15px;
        }

        .caption {
            margin-top: 15px;
            font-style: italic;
            color: #d63384;
            font-size: 1.1rem;
        }

        /* OYUN UI */
        #game-wrapper {
            position: relative;
            width: 100%;
            max-width: 400px; /* Mobil telefon geni≈üliƒüi gibi */
            margin-top: 20px;
        }

        canvas {
            display: block;
            width: 100%;
            height: auto;
            border: 8px solid #333;
            border-radius: 10px;
            box-shadow: 0 20px 50px rgba(0,0,0,0.2);
            background-color: var(--game-bg);
            cursor: pointer;
        }

        .game-controls {
            margin-bottom: 15px;
            display: flex;
            gap: 10px;
            justify-content: center;
            align-items: center;
            flex-direction: column;
        }

        .btn-game {
            padding: 12px 30px;
            font-size: 1.2rem;
            background: #ff5c8d;
            color: white;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            font-family: 'Pacifico', cursive;
            box-shadow: 0 5px 0 #c92a5b;
            transition: transform 0.1s;
        }

        .btn-game:active {
            transform: translateY(5px);
            box-shadow: none;
        }

        .score-board {
            font-family: 'Quicksand', sans-serif;
            font-weight: bold;
            font-size: 1.5rem;
            color: var(--text-color);
            background: white;
            padding: 10px 20px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            display: flex;
            gap: 20px;
        }

        .score-item span {
            color: var(--primary-color);
        }

        /* Overlay (Game Over / Start) */
        #overlay {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            pointer-events: none;
            width: 80%;
        }

        #overlay-text {
            font-family: 'Pacifico', cursive;
            font-size: 3rem;
            color: white;
            text-shadow: 3px 3px 0 #000;
            animation: pulse 1s infinite alternate;
        }

        @keyframes pulse {
            from { transform: scale(1); }
            to { transform: scale(1.1); }
        }

    </style>
</head>
<body>

    <div class="heart-bg" id="heartBg"></div>

    <nav>
        <button onclick="showSection('home')" class="active">Ana Sayfa</button>
        <button onclick="showSection('gallery')">G√ºzelliƒüin</button>
        <button onclick="showSection('game')">Flappy Ay≈üe üéÆ</button>
    </nav>

    <div id="home" class="section active">
        <h1>Ay≈üe'm...</h1>
        <div class="hero-text">
            <p>
                Seninle ge√ßen her saniye, √∂mr√ºm√ºn en deƒüerli hediyesi.<br>
                G√∂zlerin bana baktƒ±ƒüƒ±nda t√ºm d√ºnya duruyor sanki.<br><br>
                Bu k√º√ß√ºk site, y√ºz√ºndeki o g√ºzel tebess√ºm√ºn sebebi olsun diye...<br>
                Seni √ßok seviyorum. ‚ù§Ô∏è
            </p>
        </div>
    </div>

    <div id="gallery" class="section">
        <h1>Seninle Her ≈ûey G√ºzel</h1>
        <div class="gallery-container">
            <div class="photo-card">
                <img src="foto1.jpg" alt="Ay≈üe" onerror="this.src='https://via.placeholder.com/300x400/ffccd5/590d22?text=Foto+1'">
                <p class="caption">"G√ºl√º≈ü√ºnle ƒ±sƒ±nan bir d√ºnya..."</p>
            </div>
            <div class="photo-card">
                <img src="foto2.jpg" alt="Ay≈üe" onerror="this.src='https://via.placeholder.com/300x400/ffccd5/590d22?text=Foto+2'">
                <p class="caption">"Huzurun ta kendisi."</p>
            </div>
            <div class="photo-card">
                <img src="foto3.jpg" alt="Ay≈üe" onerror="this.src='https://via.placeholder.com/300x400/ffccd5/590d22?text=Foto+3'">
                <p class="caption">"En sevdiƒüim manzara."</p>
            </div>
            <div class="photo-card">
                <img src="foto4.jpg" alt="Ay≈üe" onerror="this.src='https://via.placeholder.com/300x400/ffccd5/590d22?text=Foto+4'">
                <p class="caption">"ƒ∞yi ki benimlesin."</p>
            </div>
            <div class="photo-card">
                <img src="foto5.jpg" alt="Ay≈üe" onerror="this.src='https://via.placeholder.com/300x400/ffccd5/590d22?text=Foto+5'">
                <p class="caption">"Sonsuza dek..."</p>
            </div>
        </div>
    </div>

    <div id="game" class="section">
        <div class="game-controls">
            <div class="score-board">
                <div class="score-item">Skor: <span id="scoreVal">0</span></div>
                <div class="score-item">Rekor: <span id="bestVal">0</span></div>
            </div>
            <button class="btn-game" id="startBtn">Oyunu Ba≈ülat</button>
        </div>

        <div id="game-wrapper">
            <canvas id="gameCanvas" width="360" height="640"></canvas>
            <div id="overlay">
                <div id="overlay-text">Hazƒ±r Mƒ±sƒ±n?</div>
            </div>
        </div>
        <p style="margin-top:10px; font-size:0.9rem; opacity:0.7;">Zƒ±plamak i√ßin ekrana dokun veya Space tu≈üuna bas</p>
    </div>

    <script>
        // --- NAVƒ∞GASYON ---
        function showSection(sectionId) {
            document.querySelectorAll('.section').forEach(sec => sec.classList.remove('active'));
            document.getElementById(sectionId).classList.add('active');
            document.querySelectorAll('nav button').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
        }

        // --- ARKAPLAN KALPLERƒ∞ ---
        function createHearts() {
            const container = document.getElementById('heartBg');
            for(let i=0; i<15; i++) {
                const heart = document.createElement('div');
                heart.classList.add('heart');
                heart.innerHTML = '‚ù§Ô∏è';
                heart.style.left = Math.random() * 100 + 'vw';
                heart.style.animationDuration = (Math.random() * 5 + 8) + 's';
                heart.style.fontSize = (Math.random() * 20 + 15) + 'px';
                heart.style.animationDelay = Math.random() * 5 + 's';
                container.appendChild(heart);
            }
        }
        createHearts();

        // --- GELƒ∞≈ûMƒ∞≈û OYUN MOTORU ---
        const canvas = document.getElementById("gameCanvas");
        const ctx = canvas.getContext("2d");
        
        // Ses Sistemi (Web Audio API - Dosyasƒ±z Sesler)
        const AudioContext = window.AudioContext || window.webkitAudioContext;
        const audioCtx = new AudioContext();

        function playSound(type) {
            if(audioCtx.state === 'suspended') audioCtx.resume();
            const osc = audioCtx.createOscillator();
            const gainNode = audioCtx.createGain();
            osc.connect(gainNode);
            gainNode.connect(audioCtx.destination);

            if (type === 'jump') {
                osc.type = 'sine';
                osc.frequency.setValueAtTime(400, audioCtx.currentTime);
                osc.frequency.exponentialRampToValueAtTime(600, audioCtx.currentTime + 0.1);
                gainNode.gain.setValueAtTime(0.3, audioCtx.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.1);
                osc.start();
                osc.stop(audioCtx.currentTime + 0.1);
            } else if (type === 'score') {
                osc.type = 'triangle';
                osc.frequency.setValueAtTime(600, audioCtx.currentTime);
                osc.frequency.setValueAtTime(800, audioCtx.currentTime + 0.1);
                gainNode.gain.setValueAtTime(0.1, audioCtx.currentTime);
                gainNode.gain.linearRampToValueAtTime(0, audioCtx.currentTime + 0.2);
                osc.start();
                osc.stop(audioCtx.currentTime + 0.2);
            } else if (type === 'hit') {
                osc.type = 'sawtooth';
                osc.frequency.setValueAtTime(150, audioCtx.currentTime);
                osc.frequency.exponentialRampToValueAtTime(50, audioCtx.currentTime + 0.3);
                gainNode.gain.setValueAtTime(0.2, audioCtx.currentTime);
                gainNode.gain.linearRampToValueAtTime(0, audioCtx.currentTime + 0.3);
                osc.start();
                osc.stop(audioCtx.currentTime + 0.3);
            }
        }

        // Oyun Deƒüi≈ükenleri
        let frames = 0;
        let score = 0;
        let highScore = localStorage.getItem('ayse_highscore') || 0;
        let state = { current: 0, getReady: 0, game: 1, over: 2 };
        document.getElementById('bestVal').innerText = highScore;

        // G√∂rseller
        const birdImg = new Image();
        birdImg.src = "ayse_game.png"; // Kullanƒ±cƒ±nƒ±n koyacaƒüƒ± ≈üeffaf png

        // Obje: Ku≈ü (Ay≈üe)
        const bird = {
            x: 50,
            y: 150,
            width: 40,
            height: 40,
            frame: 0,
            gravity: 0.25,
            jump: -4.6,
            speed: 0,
            rotation: 0,
            
            draw: function() {
                ctx.save();
                ctx.translate(this.x + this.width/2, this.y + this.height/2);
                // Hƒ±za g√∂re d√∂nme efekti
                if(state.current === state.game) {
                    this.rotation = Math.min(Math.PI / 4, Math.max(-Math.PI / 4, (this.speed * 0.1)));
                } else {
                    this.rotation = 0;
                }
                ctx.rotate(this.rotation);
                
                if(birdImg.complete && birdImg.naturalHeight !== 0) {
                    ctx.drawImage(birdImg, -this.width/2, -this.height/2, this.width, this.height);
                } else {
                    // Resim y√ºklenmezse yedek daire
                    ctx.fillStyle = "#ff5c8d";
                    ctx.beginPath();
                    ctx.arc(0, 0, this.width/2, 0, Math.PI*2);
                    ctx.fill();
                    ctx.fillStyle = "#fff"; // G√∂z
                    ctx.beginPath();
                    ctx.arc(8, -5, 5, 0, Math.PI*2);
                    ctx.fill();
                }
                ctx.restore();
            },
            
            update: function() {
                if(state.current === state.getReady) {
                    this.y = 150; // Ba≈ülangƒ±√ß konumu
                    this.rotation = 0;
                } else if(state.current === state.game) {
                    this.speed += this.gravity;
                    this.y += this.speed;

                    // Zemin √áarpƒ±≈ümasƒ±
                    if(this.y + this.height/2 >= canvas.height - fg.h) {
                        this.y = canvas.height - fg.h - this.height/2;
                        if(state.current === state.game) {
                            state.current = state.over;
                            playSound('hit');
                            showGameOver();
                        }
                    }
                }
            },
            
            flap: function() {
                this.speed = this.jump;
                playSound('jump');
            }
        }

        // Obje: Arkaplan (Bulutlar)
        const bg = {
            draw: function() {
                ctx.fillStyle = "#70c5ce";
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                
                // Basit Bulut √áizimi
                ctx.fillStyle = "rgba(255, 255, 255, 0.6)";
                for(let i=0; i<3; i++) {
                    let x = ((frames * 0.5) + (i * 150)) % (canvas.width + 100) - 50;
                    let y = 50 + i * 40;
                    ctx.beginPath();
                    ctx.arc(x, y, 30, 0, Math.PI * 2);
                    ctx.arc(x + 25, y - 10, 35, 0, Math.PI * 2);
                    ctx.arc(x + 50, y, 30, 0, Math.PI * 2);
                    ctx.fill();
                }
            }
        }

        // Obje: Zemin
        const fg = {
            h: 80,
            x: 0,
            dx: 2,
            draw: function() {
                ctx.fillStyle = "#ded895";
                ctx.fillRect(0, canvas.height - this.h, canvas.width, this.h);
                // √áimen ≈üeridi
                ctx.fillStyle = "#73bf2e";
                ctx.fillRect(0, canvas.height - this.h, canvas.width, 15);
                ctx.strokeStyle = "#9ce659";
                ctx.beginPath();
                ctx.moveTo(0, canvas.height - this.h);
                ctx.lineTo(canvas.width, canvas.height - this.h);
                ctx.stroke();
            },
            update: function() {
                if(state.current === state.game) {
                    this.x = (this.x - this.dx) % (canvas.width/2); 
                }
            }
        }

        // Obje: Borular
        const pipes = {
            position: [],
            w: 52,
            h: 400,
            gap: 130, // Boru a√ßƒ±klƒ±ƒüƒ±
            dx: 2,
            
            draw: function() {
                for(let i = 0; i < this.position.length; i++) {
                    let p = this.position[i];
                    let topY = p.y;
                    let bottomY = p.y + this.h + this.gap;
                    
                    // Boru Rengi (Candy Cane stili)
                    // √úst Boru
                    let grd = ctx.createLinearGradient(p.x, topY, p.x + this.w, topY);
                    grd.addColorStop(0, "#73bf2e");
                    grd.addColorStop(0.5, "#9ce659"); // Parlama
                    grd.addColorStop(1, "#73bf2e");
                    ctx.fillStyle = grd;
                    ctx.fillRect(p.x, p.y, this.w, this.h);
                    
                    // Alt Boru
                    ctx.fillStyle = grd;
                    ctx.fillRect(p.x, bottomY, this.w, this.h);
                    
                    // Boru Kapaklarƒ±
                    ctx.fillStyle = "#558c22";
                    ctx.fillRect(p.x - 2, p.y + this.h - 20, this.w + 4, 20); // √úst kapak
                    ctx.fillRect(p.x - 2, bottomY, this.w + 4, 20); // Alt kapak
                }
            },
            
            update: function() {
                if(state.current !== state.game) return;
                
                // Boru Ekleme
                if(frames % 120 === 0) {
                    this.position.push({
                        x: canvas.width,
                        y: -150 * (Math.random() + 1)
                    });
                }
                
                for(let i = 0; i < this.position.length; i++) {
                    let p = this.position[i];
                    p.x -= this.dx;
                    
                    let bottomPipeY = p.y + this.h + this.gap;
                    
                    // √áarpƒ±≈üma Kontrol√º (Hitbox biraz k√º√ß√ºlt√ºld√º - forgiving)
                    // Ku≈üun hitbox'ƒ±: bird.x+5, bird.y+5, bird.width-10, bird.height-10
                    if(
                        bird.x + 10 < p.x + this.w &&
                        bird.x + bird.width - 10 > p.x && 
                        (bird.y + 10 < p.y + this.h || bird.y + bird.height - 10 > bottomPipeY)
                    ) {
                        state.current = state.over;
                        playSound('hit');
                        showGameOver();
                    }
                    
                    // Skor
                    if(p.x + this.w <= bird.x && p.x + this.w + this.dx >= bird.x) {
                        score++;
                        playSound('score');
                        document.getElementById('scoreVal').innerText = score;
                        // Rekor Kontrol
                        highScore = Math.max(score, highScore);
                        localStorage.setItem('ayse_highscore', highScore);
                        document.getElementById('bestVal').innerText = highScore;
                    }
                    
                    // Ekrandan √ßƒ±kanƒ± sil
                    if(p.x + this.w <= 0) {
                        this.position.shift();
                        score += 0; // Hata √∂nleyici
                        i--;
                    }
                }
            },
            
            reset: function() {
                this.position = [];
            }
        }

        // Oyun D√∂ng√ºs√º
        function draw() {
            bg.draw();
            pipes.draw();
            fg.draw();
            bird.draw();
        }

        function update() {
            bird.update();
            fg.update();
            pipes.update();
        }

        function loop() {
            update();
            draw();
            frames++;
            requestAnimationFrame(loop);
        }

        loop();

        // --- KONTROLLER ---
        const startBtn = document.getElementById('startBtn');
        const overlayText = document.getElementById('overlay-text');

        startBtn.addEventListener('click', function() {
            resetGame();
            state.current = state.game;
            overlayText.style.display = 'none';
            this.blur(); // Odaklanmayƒ± kaldƒ±r ki space tu≈üu butona basmasƒ±n
        });

        // Klavye ve Dokunmatik
        window.addEventListener("keydown", function(e){
            if(e.code === "Space") {
                e.preventDefault(); // Sayfa kaymasƒ±nƒ± engelle
                handleInput();
            }
        });
        
        canvas.addEventListener("touchstart", function(e){
            e.preventDefault();
            handleInput();
        });
        
        canvas.addEventListener("mousedown", function(e){
            handleInput();
        });

        function handleInput() {
            if(state.current === state.game) {
                bird.flap();
            } else if(state.current === state.over) {
                // Oyunu yeniden ba≈ülat
                resetGame();
                state.current = state.game;
            }
        }

        function resetGame() {
            bird.speed = 0;
            bird.rotation = 0;
            bird.y = 150;
            pipes.reset();
            score = 0;
            frames = 0;
            document.getElementById('scoreVal').innerText = score;
            overlayText.style.display = 'none';
            overlayText.innerText = "";
        }

        function showGameOver() {
            overlayText.style.display = 'block';
            overlayText.innerHTML = "Oyun Bitti!<br><span style='font-size:1.5rem'>Tekrar Dene</span>";
            startBtn.innerText = "Yeniden Oyna";
        }

    </script>
</body>
</html>
