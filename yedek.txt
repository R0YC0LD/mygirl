<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Ay≈üe'ye √ñzel ‚ù§Ô∏è</title>
    <link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Quicksand:wght@300;500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #ff8fa3;
            --secondary-color: #ffccd5;
            --text-color: #590d22;
            --white: #fff0f3;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent; /* Mobilde tƒ±klama ƒ±≈üƒ±ƒüƒ±nƒ± kapat */
        }

        body {
            font-family: 'Quicksand', sans-serif;
            background-color: var(--white);
            color: var(--text-color);
            overflow-x: hidden; /* Yatay kaydƒ±rmayƒ± engelle */
            overflow-y: scroll; 
        }

        /* --- ARKAPLAN KALP EFEKTƒ∞ --- */
        .heart-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
            overflow: hidden;
        }

        .heart {
            position: absolute;
            bottom: -100px;
            font-size: 2rem;
            color: rgba(255, 143, 163, 0.4);
            animation: fly 10s linear infinite;
        }

        @keyframes fly {
            0% { transform: translateY(0) rotate(0deg); opacity: 1; }
            100% { transform: translateY(-100vh) rotate(360deg); opacity: 0; }
        }

        /* --- MEN√ú (NAV) --- */
        nav {
            display: flex;
            justify-content: center;
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            padding: 15px;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 4px 15px rgba(255, 143, 163, 0.2);
            flex-wrap: wrap;
        }

        nav button {
            background: none;
            border: none;
            font-family: 'Pacifico', cursive;
            font-size: 1.1rem;
            color: var(--text-color);
            margin: 5px 10px;
            cursor: pointer;
            padding: 8px 20px;
            border-radius: 20px;
            transition: all 0.3s ease;
        }

        nav button:hover, nav button.active {
            background-color: var(--primary-color);
            color: white;
            transform: scale(1.05);
            box-shadow: 0 4px 10px rgba(255, 143, 163, 0.4);
        }

        /* --- SEKMELER (SECTIONS) --- */
        .section {
            display: none;
            min-height: 90vh;
            padding: 20px 10px;
            animation: fadeIn 0.6s ease;
            text-align: center;
            flex-direction: column;
            align-items: center;
        }

        .section.active {
            display: flex;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* --- ANASAYFA --- */
        h1 {
            font-family: 'Pacifico', cursive;
            font-size: 3rem;
            margin: 30px 0 20px 0;
            color: #d00000;
            text-shadow: 2px 2px 0px rgba(255, 200, 200, 0.5);
        }

        .hero-text {
            font-size: 1.3rem;
            max-width: 600px;
            line-height: 1.8;
            background: rgba(255,255,255,0.7);
            padding: 20px;
            border-radius: 20px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
        }

        /* --- GALERƒ∞ --- */
        .gallery-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
            width: 100%;
            max-width: 1200px;
            padding: 10px;
        }

        .photo-card {
            background: white;
            padding: 15px;
            border-radius: 20px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
        }

        .photo-card:hover {
            transform: translateY(-5px);
        }

        .photo-card img {
            width: 100%;
            height: 350px;
            object-fit: cover;
            border-radius: 15px;
        }

        .caption {
            margin-top: 15px;
            font-style: italic;
            color: #d63384;
            font-size: 1.1rem;
        }

        /* --- OYUN ALANI STƒ∞LLERƒ∞ --- */
        #game-wrapper {
            position: relative;
            margin-top: 20px;
            width: 320px;
            height: 480px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            border-radius: 10px;
            overflow: hidden;
            background-color: #70c5ce;
        }

        canvas {
            display: block;
            width: 100%;
            height: 100%;
        }

        .score-board {
            display: flex;
            gap: 20px;
            font-size: 1.5rem;
            font-family: 'Quicksand', sans-serif;
            background: white;
            padding: 10px 25px;
            border-radius: 50px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            margin-bottom: 10px;
        }

        .score-board b { color: #ff5c8d; }

        /* Oyun Mesajlarƒ± (Ba≈üla / Bitti) */
        #message-overlay {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            width: 80%;
            pointer-events: none; /* Tƒ±klamalar canvasa ge√ßsin diye */
            z-index: 10;
        }

        #message-overlay h2 {
            font-family: 'Pacifico', cursive;
            font-size: 2.5rem;
            color: white;
            text-shadow: 2px 2px 0 #000;
            margin-bottom: 10px;
        }

        #message-overlay p {
            font-weight: bold;
            color: white;
            text-shadow: 1px 1px 0 #000;
            font-size: 1.2rem;
        }

        #start-btn {
            pointer-events: auto; /* Butona tƒ±klanabilsin */
            padding: 10px 30px;
            background: #ff5c8d;
            border: none;
            color: white;
            font-family: 'Quicksand', sans-serif;
            font-weight: bold;
            border-radius: 20px;
            cursor: pointer;
            box-shadow: 0 4px 0 #c43c68;
            margin-top: 10px;
        }
        #start-btn:active { transform: translateY(4px); box-shadow: none; }

    </style>
</head>
<body>

    <div class="heart-bg" id="heartBg"></div>

    <nav>
        <button onclick="showSection('home')" class="active">Ana Sayfa</button>
        <button onclick="showSection('gallery')">G√ºzelliƒüin</button>
        <button onclick="showSection('game')">Flappy Ay≈üe üéÆ</button>
    </nav>

    <div id="home" class="section active">
        <h1>Ay≈üe'm...</h1>
        <div class="hero-text">
            <p>
                Seninle ge√ßen her saniye, √∂mr√ºm√ºn en deƒüerli hediyesi.<br>
                G√∂zlerin bana baktƒ±ƒüƒ±nda t√ºm d√ºnya duruyor sanki.<br><br>
                Bu k√º√ß√ºk site, y√ºz√ºndeki o g√ºzel tebess√ºm√ºn sebebi olsun diye...<br>
                Seni √ßok seviyorum. ‚ù§Ô∏è
            </p>
        </div>
    </div>

    <div id="gallery" class="section">
        <h1>Seninle Her ≈ûey G√ºzel</h1>
        <div class="gallery-container">
            <div class="photo-card">
                <img src="foto1.jpg" alt="Ay≈üe" onerror="this.src='https://via.placeholder.com/300x400/ffccd5/590d22?text=Foto+1'">
                <p class="caption">"G√ºl√º≈ü√ºnle ƒ±sƒ±nan bir d√ºnya..."</p>
            </div>
            <div class="photo-card">
                <img src="foto2.jpg" alt="Ay≈üe" onerror="this.src='https://via.placeholder.com/300x400/ffccd5/590d22?text=Foto+2'">
                <p class="caption">"Huzurun ta kendisi."</p>
            </div>
            <div class="photo-card">
                <img src="foto3.jpg" alt="Ay≈üe" onerror="this.src='https://via.placeholder.com/300x400/ffccd5/590d22?text=Foto+3'">
                <p class="caption">"En sevdiƒüim manzara."</p>
            </div>
            <div class="photo-card">
                <img src="foto4.jpg" alt="Ay≈üe" onerror="this.src='https://via.placeholder.com/300x400/ffccd5/590d22?text=Foto+4'">
                <p class="caption">"ƒ∞yi ki benimlesin."</p>
            </div>
            <div class="photo-card">
                <img src="foto5.jpg" alt="Ay≈üe" onerror="this.src='https://via.placeholder.com/300x400/ffccd5/590d22?text=Foto+5'">
                <p class="caption">"Sonsuza dek..."</p>
            </div>
        </div>
    </div>

    <div id="game" class="section">
        <div class="game-ui">
            <div class="score-board">
                <span>Skor: <b id="scoreVal">0</b></span>
                <span>Rekor: <b id="bestVal">0</b></span>
            </div>
        </div>

        <div id="game-wrapper">
            <canvas id="gameCanvas" width="320" height="480"></canvas>
            
            <div id="message-overlay">
                <h2 id="msg-title">Flappy Ay≈üe</h2>
                <p id="msg-subtitle">Oynamak i√ßin Tƒ±kla!</p>
                <button id="start-btn">BA≈ûLA</button>
            </div>
        </div>
        <p style="margin-top:15px; opacity:0.8; font-size:0.9rem">Zƒ±plamak i√ßin ekrana dokun veya tƒ±kla</p>
    </div>

    <script>
        // --- SAYFA GE√áƒ∞≈û VE EFEKT KODLARI ---

        // B√∂l√ºm Deƒüi≈ütirme
        function showSection(sectionId) {
            document.querySelectorAll('.section').forEach(sec => sec.classList.remove('active'));
            document.getElementById(sectionId).classList.add('active');
            
            // Navigasyon butonunu g√ºncelle
            document.querySelectorAll('nav button').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');

            // Eƒüer oyun sekmesi a√ßƒ±ldƒ±ysa oyunu sƒ±fƒ±rla
            if(sectionId === 'game') {
                resetGame();
            }
        }

        // Arkaplan Kalpleri
        function createHearts() {
            const container = document.getElementById('heartBg');
            for(let i=0; i<15; i++) {
                const heart = document.createElement('div');
                heart.classList.add('heart');
                heart.innerHTML = '‚ù§Ô∏è';
                heart.style.left = Math.random() * 100 + 'vw';
                heart.style.animationDuration = (Math.random() * 5 + 8) + 's';
                heart.style.fontSize = (Math.random() * 20 + 15) + 'px';
                heart.style.animationDelay = Math.random() * 5 + 's';
                container.appendChild(heart);
            }
        }
        createHearts();


        // --- GELƒ∞≈ûMƒ∞≈û OYUN MOTORU (FIXED) ---
        const canvas = document.getElementById("gameCanvas");
        const ctx = canvas.getContext("2d");

        // Deƒüi≈ükenler
        let frames = 0;
        let score = 0;
        let highScore = localStorage.getItem('ayse_highscore') || 0;
        document.getElementById('bestVal').innerText = highScore;

        // Oyun Durumlarƒ±
        const state = {
            current: 0,
            getReady: 0,
            game: 1,
            over: 2
        };

        // Ses Efektleri (Web Audio API - Dosyasƒ±z)
        const AudioContext = window.AudioContext || window.webkitAudioContext;
        let audioCtx = new AudioContext();

        function playTone(type) {
            // Tarayƒ±cƒ± kƒ±sƒ±tlamasƒ±nƒ± a≈ümak i√ßin resume
            if (audioCtx.state === 'suspended') audioCtx.resume();
            
            const osc = audioCtx.createOscillator();
            const gain = audioCtx.createGain();
            osc.connect(gain);
            gain.connect(audioCtx.destination);

            const now = audioCtx.currentTime;
            
            if (type === 'jump') {
                osc.type = 'sine';
                osc.frequency.setValueAtTime(350, now);
                osc.frequency.exponentialRampToValueAtTime(500, now + 0.1);
                gain.gain.setValueAtTime(0.3, now);
                gain.gain.exponentialRampToValueAtTime(0.01, now + 0.1);
                osc.start(now);
                osc.stop(now + 0.1);
            } else if (type === 'score') {
                osc.type = 'square';
                osc.frequency.setValueAtTime(600, now);
                gain.gain.setValueAtTime(0.1, now);
                gain.gain.exponentialRampToValueAtTime(0.01, now + 0.1);
                osc.start(now);
                osc.stop(now + 0.1);
            } else if (type === 'hit') {
                osc.type = 'sawtooth';
                osc.frequency.setValueAtTime(100, now);
                gain.gain.setValueAtTime(0.2, now);
                gain.gain.exponentialRampToValueAtTime(0.01, now + 0.3);
                osc.start(now);
                osc.stop(now + 0.3);
            }
        }

        // Resim Y√ºkleme
        const birdImg = new Image();
        birdImg.src = "ayse_game.png";

        // Kontroller
        const startBtn = document.getElementById("start-btn");
        const msgTitle = document.getElementById("msg-title");
        const msgSub = document.getElementById("msg-subtitle");
        const overlay = document.getElementById("message-overlay");

        // Girdi ƒ∞≈üleyicisi
        function handleInput(e) {
            // Space tu≈üu dƒ±≈üƒ±ndaki tu≈ülarƒ± yoksay
            if(e.type === 'keydown' && e.code !== 'Space') return;
            if(e.type === 'keydown') e.preventDefault(); 

            switch (state.current) {
                case state.getReady:
                    state.current = state.game;
                    overlay.style.opacity = "0"; // Mesajƒ± gizle
                    playTone('jump');
                    break;
                case state.game:
                    bird.flap();
                    break;
                case state.over:
                    resetGame();
                    break;
            }
        }

        // Event Listener'lar
        startBtn.addEventListener("click", handleInput); // Butona basƒ±nca
        canvas.addEventListener("click", handleInput);   // Ekrana basƒ±nca
        window.addEventListener("keydown", handleInput); // Space basƒ±nca
        
        // Mobil Dokunmatik Fix
        canvas.addEventListener("touchstart", (e) => {
            e.preventDefault(); 
            handleInput(e);
        }, {passive: false});

        // OYUN NESNELERƒ∞
        const bird = {
            x: 50,
            y: 150,
            w: 34,
            h: 34,
            speed: 0,
            gravity: 0.25,
            jump: -4.5,
            rotation: 0,
            
            draw: function() {
                ctx.save();
                ctx.translate(this.x, this.y);
                ctx.rotate(this.rotation);
                
                if(birdImg.complete && birdImg.naturalHeight !== 0) {
                    ctx.drawImage(birdImg, -this.w/2, -this.h/2, this.w, this.h);
                } else {
                    // Resim yoksa yedek
                    ctx.fillStyle = "#ff5c8d"; 
                    ctx.beginPath();
                    ctx.arc(0,0, this.w/2, 0, Math.PI*2);
                    ctx.fill();
                    ctx.fillStyle = "white"; // G√∂z
                    ctx.beginPath();
                    ctx.arc(6,-6, 4, 0, Math.PI*2);
                    ctx.fill();
                }
                ctx.restore();
            },
            
            flap: function() {
                this.speed = this.jump;
                playTone('jump');
            },
            
            update: function() {
                if (state.current === state.getReady) {
                    this.y = 150;
                    this.rotation = 0;
                } else {
                    this.speed += this.gravity;
                    this.y += this.speed;

                    // D√∂n√º≈ü efekti
                    if(this.speed < this.jump/2) {
                        this.rotation = -25 * Math.PI / 180;
                    } else {
                        this.rotation += 5 * Math.PI / 180;
                        this.rotation = Math.min(Math.PI / 2, this.rotation);
                    }

                    // Zemin √ßarpƒ±≈ümasƒ±
                    if(this.y + this.h/2 >= canvas.height - fg.h) {
                        this.y = canvas.height - fg.h - this.h/2;
                        if(state.current === state.game) {
                            state.current = state.over;
                            playTone('hit');
                            showGameOver();
                        }
                    }
                }
            }
        };

        const fg = {
            h: 90, 
            draw: function() {
                ctx.fillStyle = "#ded895";
                ctx.fillRect(0, canvas.height - this.h, canvas.width, this.h);
                ctx.fillStyle = "#73bf2e";
                ctx.fillRect(0, canvas.height - this.h, canvas.width, 10);
            }
        };

        const pipes = {
            position: [],
            w: 52,
            h: 400,
            gap: 125, // Boru aralƒ±ƒüƒ±
            dx: 2,
            
            draw: function() {
                for(let i=0; i<this.position.length; i++) {
                    let p = this.position[i];
                    let topY = p.y;
                    let bottomY = p.y + this.h + this.gap;
                    
                    // Boru g√∂vdesi
                    ctx.fillStyle = "#73bf2e";
                    ctx.fillRect(p.x, topY, this.w, this.h);
                    ctx.fillRect(p.x, bottomY, this.w, this.h);
                    
                    // Boru u√ßlarƒ±
                    ctx.fillStyle = "#558c22"; 
                    ctx.fillRect(p.x-2, topY+this.h-20, this.w+4, 20);
                    ctx.fillRect(p.x-2, bottomY, this.w+4, 20);
                }
            },
            
            update: function() {
                if(state.current !== state.game) return;
                
                if(frames % 120 == 0) {
                    this.position.push({
                        x: canvas.width,
                        y: -150 * (Math.random() + 1)
                    });
                }
                
                for(let i=0; i<this.position.length; i++) {
                    let p = this.position[i];
                    p.x -= this.dx;

                    // √áarpƒ±≈üma Kontrol√º
                    if(bird.x + bird.w/2 > p.x && bird.x - bird.w/2 < p.x + this.w &&
                       (bird.y - bird.h/2 < p.y + this.h || bird.y + bird.h/2 > p.y + this.h + this.gap)) {
                        state.current = state.over;
                        playTone('hit');
                        showGameOver();
                    }

                    // Skor
                    if(p.x + this.w <= bird.x && p.x + this.w + this.dx >= bird.x) {
                        score++;
                        playTone('score');
                        document.getElementById('scoreVal').innerText = score;
                        highScore = Math.max(score, highScore);
                        localStorage.setItem('ayse_highscore', highScore);
                        document.getElementById('bestVal').innerText = highScore;
                    }

                    // Ekrandan √ßƒ±kƒ±nca sil
                    if(p.x + this.w <= 0) {
                        this.position.shift();
                        i--;
                    }
                }
            },
            reset: function() { this.position = []; }
        };

        const bg = {
            draw: function() {
                ctx.fillStyle = "#70c5ce"; // G√∂ky√ºz√º
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                
                // Basit Bulutlar
                ctx.fillStyle = "rgba(255,255,255,0.6)";
                ctx.beginPath();
                ctx.arc(50, 100, 30, 0, Math.PI*2);
                ctx.arc(90, 110, 30, 0, Math.PI*2);
                ctx.arc(130, 100, 30, 0, Math.PI*2);
                ctx.fill();

                ctx.beginPath();
                ctx.arc(200, 50, 20, 0, Math.PI*2);
                ctx.arc(230, 60, 25, 0, Math.PI*2);
                ctx.fill();
            }
        };

        function draw() {
            bg.draw();
            pipes.draw();
            fg.draw();
            bird.draw();
        }

        function update() {
            bird.update();
            pipes.update();
        }

        function loop() {
            update();
            draw();
            frames++;
            requestAnimationFrame(loop);
        }
        loop();

        // Oyunu Sƒ±fƒ±rla
        function resetGame() {
            bird.speed = 0;
            bird.rotation = 0;
            pipes.reset();
            score = 0;
            frames = 0;
            document.getElementById('scoreVal').innerText = score;
            state.current = state.getReady;
            
            // UI G√ºncelle
            overlay.style.opacity = "1";
            msgTitle.innerText = "Flappy Ay≈üe";
            msgSub.innerText = "Ba≈ülamak i√ßin Tƒ±kla!";
            startBtn.innerText = "BA≈ûLA";
            startBtn.style.display = "inline-block";
        }

        // Oyun Bitti Ekranƒ±
        function showGameOver() {
            overlay.style.opacity = "1";
            msgTitle.innerText = "Oyun Bitti!";
            msgSub.innerText = "Skor: " + score;
            startBtn.innerText = "Tekrar Dene";
        }

    </script>
</body>
</html>
